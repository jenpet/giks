build:
  summary: builds the giks binary
  command: |
    set -e
    GOARCH=amd64 GOOS=${1:-darwin} CGO_ENABLED=0 go build -ldflags='-w -s -extldflags "-static"' -a \
      -o {{ .robo.path }}/{{ .binary }} . && \
    chmod a+rwx {{ .binary }}

run:
  summary: runs giks
  exec: {{ .binary }}

variables:
  binary: build/dist/giks
  rcmd: robo -c {{ .robo.file }}